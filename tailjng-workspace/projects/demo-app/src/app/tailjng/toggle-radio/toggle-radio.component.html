<!--
===============================================
Component and Function Library - tailjNg
===============================================
Description:
  This library is designed to provide a set of reusable components and optimized functions
  to facilitate the development of user interfaces and data management in web applications.
  It includes tools to improve the developer experience and user interaction.

Purpose:
  - Create modular and customizable components.
  - Improve front-end development efficiency through reusable tools.
  - Provide scalable solutions that are easy to integrate with existing applications.

Usage:
  To access full functionality, simply import the necessary modules and use the
  components according to your use case. Be sure to review the official documentation for detailed examples 
  on implementation and customization.

Authors:
  Armando Josue Velasquez Delgado - Lead Developer

License:
  This project is licensed under the BSD 3-Clause - see the LICENSE file for more details.

Version: 0.0.9
Creation Date: 2025-01-04
===============================================
-->

@if (internalOptions.length > 0) {
    <div class="flex rounded-md overflow-hidden border border-border dark:border-dark-border text-sm min-h-[40px] select-none" [ngClass]="{ 'opacity-50': disabled || isComponentDisabled }" [class]="classes">
        
    <ng-container>
            @for (opt of internalOptions; track $index) {
                <button
                type="button"
                [disabled]="disabled || isComponentDisabled"
                (click)="select(opt.value)"
                [ngClass]="{
                    'bg-primary dark:bg-dark-primary text-white': selectedValue === opt.value,
                    'bg-background dark:bg-dark-background hover:bg-muted/80 hover:dark:bg-dark-muted/30 text-gray-700 dark:text-white': selectedValue !== opt.value,
                    'cursor-not-allowed pointer-events-none': disabled || isComponentDisabled
                }"
                class="w-full py-2 px-4 font-medium border-r border-border last:border-none focus:outline-none transition-colors duration-200 ease-in-out cursor-pointer"
                [class]="classesElement"
                >
                {{ opt.label }}
                </button>
            }
        </ng-container>

    </div>
} @else if (isLoading) {

    <div class="flex text-black dark:text-white gap-2 items-center justify-center rounded-md overflow-hidden border border-border dark:border-dark-border h-[40px]">
        <lucide-icon [name]="iconsService.icons.loading" [size]="15" class="text-gray-400 animate-spin" />
        <span>Cargando...</span>
    </div>  

} @else {

    <div class="flex text-black dark:text-white items-center justify-center rounded-md overflow-hidden border border-border dark:border-dark-border h-[40px]">
        No hay opciones
    </div>  

}
  
<!-- Clear button -->
@if (showClear && selectedValue !== null) {
    <div class="mt-2">
        <button 
        type="button" 
        (click)="clear()" 
        [disabled]="disabled || isComponentDisabled"
        class="text-xs text-red-500 underline disabled:opacity-50 disabled:cursor-not-allowed">
        Limpiar selecci√≥n
        </button>
    </div>
}
  